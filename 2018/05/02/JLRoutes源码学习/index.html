<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JLRoutesæºç å­¦ä¹  | Destiny</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ä¹‹å‰ä¹Ÿçœ‹è¿‡ä¸€äº›æ¨¡å—åŒ–çš„æ–‡ç« ï¼Œå›´è§‚è¿‡ä¸€äº›åˆ‡ç£‹ã€‚è‡ªå·±å¹¶æ²¡æœ‰å®é™…çš„ä½¿ç”¨è¿‡ï¼Œä¸»æµçš„æ¡†æ¶æ˜¯MGJRouter, CTMediator, JLRoutesã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢staræ¯”è¾ƒå¤šçš„é¡¹ç›®ï¼ˆstarå…šï¼‰ã€‚è¿™é‡Œæ¥å­¦ä¹ ä¸€ä¸‹é¡¹ç›®ä¸­ä½¿ç”¨çš„JLRoutesæ¡†æ¶ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ€»è§‰å¾—åœ¨ä½¿ç”¨çš„æ—¶å€™æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œä»Šå¤©å°±æ¥è¯»ä¸€ä¸‹æºç çœ‹çœ‹æ˜¯å¦èƒ½è§£å†³ä¸€ä¸‹å¿ƒä¸­ç–‘æƒ‘ã€‚ é¦–å…ˆè¿™ä¸ªåº“çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³å¤–éƒ¨è·³è½¬åˆ°Appå†…éƒ¨çš„åœºæ™¯ï¼Œæ‰“ä¸€">
<meta property="og:type" content="article">
<meta property="og:title" content="JLRoutesæºç å­¦ä¹ ">
<meta property="og:url" content="http://yoursite.com/2018/05/02/JLRoutesæºç å­¦ä¹ /index.html">
<meta property="og:site_name" content="Destiny">
<meta property="og:description" content="ä¹‹å‰ä¹Ÿçœ‹è¿‡ä¸€äº›æ¨¡å—åŒ–çš„æ–‡ç« ï¼Œå›´è§‚è¿‡ä¸€äº›åˆ‡ç£‹ã€‚è‡ªå·±å¹¶æ²¡æœ‰å®é™…çš„ä½¿ç”¨è¿‡ï¼Œä¸»æµçš„æ¡†æ¶æ˜¯MGJRouter, CTMediator, JLRoutesã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢staræ¯”è¾ƒå¤šçš„é¡¹ç›®ï¼ˆstarå…šï¼‰ã€‚è¿™é‡Œæ¥å­¦ä¹ ä¸€ä¸‹é¡¹ç›®ä¸­ä½¿ç”¨çš„JLRoutesæ¡†æ¶ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ€»è§‰å¾—åœ¨ä½¿ç”¨çš„æ—¶å€™æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œä»Šå¤©å°±æ¥è¯»ä¸€ä¸‹æºç çœ‹çœ‹æ˜¯å¦èƒ½è§£å†³ä¸€ä¸‹å¿ƒä¸­ç–‘æƒ‘ã€‚ é¦–å…ˆè¿™ä¸ªåº“çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³å¤–éƒ¨è·³è½¬åˆ°Appå†…éƒ¨çš„åœºæ™¯ï¼Œæ‰“ä¸€">
<meta property="og:updated_time" content="2018-05-03T09:31:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JLRoutesæºç å­¦ä¹ ">
<meta name="twitter:description" content="ä¹‹å‰ä¹Ÿçœ‹è¿‡ä¸€äº›æ¨¡å—åŒ–çš„æ–‡ç« ï¼Œå›´è§‚è¿‡ä¸€äº›åˆ‡ç£‹ã€‚è‡ªå·±å¹¶æ²¡æœ‰å®é™…çš„ä½¿ç”¨è¿‡ï¼Œä¸»æµçš„æ¡†æ¶æ˜¯MGJRouter, CTMediator, JLRoutesã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢staræ¯”è¾ƒå¤šçš„é¡¹ç›®ï¼ˆstarå…šï¼‰ã€‚è¿™é‡Œæ¥å­¦ä¹ ä¸€ä¸‹é¡¹ç›®ä¸­ä½¿ç”¨çš„JLRoutesæ¡†æ¶ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ€»è§‰å¾—åœ¨ä½¿ç”¨çš„æ—¶å€™æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œä»Šå¤©å°±æ¥è¯»ä¸€ä¸‹æºç çœ‹çœ‹æ˜¯å¦èƒ½è§£å†³ä¸€ä¸‹å¿ƒä¸­ç–‘æƒ‘ã€‚ é¦–å…ˆè¿™ä¸ªåº“çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³å¤–éƒ¨è·³è½¬åˆ°Appå†…éƒ¨çš„åœºæ™¯ï¼Œæ‰“ä¸€">
  
    <link rel="alternate" href="/atom.xml" title="Destiny" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Destiny</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-JLRoutesæºç å­¦ä¹ " class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/02/JLRoutesæºç å­¦ä¹ /" class="article-date">
  <time datetime="2018-05-02T09:21:46.000Z" itemprop="datePublished">2018-05-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JLRoutesæºç å­¦ä¹ 
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ä¹‹å‰ä¹Ÿçœ‹è¿‡ä¸€äº›æ¨¡å—åŒ–çš„æ–‡ç« ï¼Œå›´è§‚è¿‡ä¸€äº›åˆ‡ç£‹ã€‚è‡ªå·±å¹¶æ²¡æœ‰å®é™…çš„ä½¿ç”¨è¿‡ï¼Œä¸»æµçš„æ¡†æ¶æ˜¯MGJRouter, CTMediator, JLRoutesã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢staræ¯”è¾ƒå¤šçš„é¡¹ç›®ï¼ˆstarå…šï¼‰ã€‚<br>è¿™é‡Œæ¥å­¦ä¹ ä¸€ä¸‹é¡¹ç›®ä¸­ä½¿ç”¨çš„JLRoutesæ¡†æ¶ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ€»è§‰å¾—åœ¨ä½¿ç”¨çš„æ—¶å€™æ€»æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œä»Šå¤©å°±æ¥è¯»ä¸€ä¸‹æºç çœ‹çœ‹æ˜¯å¦èƒ½è§£å†³ä¸€ä¸‹å¿ƒä¸­ç–‘æƒ‘ã€‚</p>
<p>é¦–å…ˆè¿™ä¸ªåº“çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³å¤–éƒ¨è·³è½¬åˆ°Appå†…éƒ¨çš„åœºæ™¯ï¼Œæ‰“ä¸€ä¸ªæ¯”æ–¹ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨å¾®ä¿¡çš„åˆ†äº«çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥è·³è½¬åˆ°äº†å¾®ä¿¡å¯¹åº”çš„é¡µé¢ï¼Œè€Œä¸æ˜¯ä»…ä»…è¿›å…¥åˆ°é¦–é¡µï¼Œç„¶åéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç‚¹å‡»è·³è½¬ç›®æ ‡é¡µé¢ã€‚é‚£ä¹ˆæ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿåªæœ‰ä¸€ä¸ªé€”å¾„å°±æ˜¯openurlçš„æ–¹å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;NSString *, id&gt; *)options</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„Info.plistä¸­æ·»åŠ URL schemesã€‚è¿™æ ·åœ¨iPhoneçš„å…¶ä»–åº”ç”¨å°±å¯ä»¥é€šè¿‡è¿™ä¸ªschemes(æ³¨æ„è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ„æ€å°±æ˜¯åŒä¸€ä¸ªappå¯ä»¥æœ‰å¤šä¸ªscheme)è¯†åˆ«éœ€è¦æ‰“å¼€çš„åº”ç”¨ï¼Œç„¶åè·³è½¬è¿‡å»ã€‚æ¯”å¦‚åœ¨safariä¸­ç›´æ¥è¾“å…¥ï¼Œè¿™ä¸ªschemeä¸‹çš„urlå³å¯ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè°ƒç”¨äº†ç³»ç»Ÿçš„è¿™ä¸ªæ–¹æ³•ä¹‹åï¼Œæ€ä¹ˆæ‰èƒ½æ ¹æ®urlè·³è½¬åˆ°å¯¹åº”çš„é¡µé¢å‘¢ï¼Ÿå°±æ˜¯ä¸‹é¢çš„è¿™ä¸€å¥ä»£ç äº†ï¼Œè¿™ä¹ˆå‰å®³ï¼Œä¸€å¥æå®šï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[JLRoutes routeURL:url];</span><br></pre></td></tr></table></figure>
<p>éä¹Ÿéä¹Ÿã€‚å…·ä½“æ‰§è¡Œçš„æ—¶å€™è¿˜æ˜¯éœ€è¦å…ˆæ³¨å†Œï¼Œå†è·³è½¬ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (void)addRoute:(NSString *)routePattern handler:(BOOL (^)(NSDictionary&lt;NSString *, id&gt; *parameters))handlerBlock</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯æ³¨å†Œçš„æ—¶å€™çš„ä¸€ä¸ªå…¥å£å‡½æ•°ï¼Œæ¡†æ¶çš„demo,ä½¿ç”¨çš„æ˜¯åœ¨didFinishLanuchä¸­æ³¨å†Œã€‚ä¸ªäººè§‰å¾—ï¼Œæ”¾åœ¨moduleçš„loadæ–¹æ³•ä¸­æ³¨å†Œåº”è¯¥ä¼šæ›´å¥½ä¸€äº›ï¼Œæ›´åˆ†æ•£ï¼Œè€Œä¸æ˜¯é›†ä¸­çš„ä¸€å¨ã€‚è¿™ä¸ªæ–¹æ³•æœ€ç»ˆä¼šè°ƒç”¨åˆ°ä¸‹é¢è¿™ä¸ªæ–¹æ³•ã€‚é»˜è®¤ä¼ äº†ä¸€ä¸ªOçš„ä¼˜å…ˆçº§è€Œå·²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (void)addRoute:(NSString *)routePattern priority:(NSUInteger)priority handler:(BOOL (^)(NSDictionary&lt;NSString *, id&gt; *parameters))handlerBlock</span><br></pre></td></tr></table></figure>
<ol>
<li>åˆ›å»ºä¸€ä¸ªJLRRouteDefinitionçš„å¯¹è±¡ï¼Œè¿™å…¶ä¸­åŒ…å«äº†patter, priority,å’ŒhandlerBlock</li>
<li>registerè¿™ä¸ªroute, ä¼šæ ¹æ®priorityå¾€mutableRoutesä¸­æ·»åŠ route, ç»™routeæ·»åŠ scheme</li>
</ol>
<p>å‰é¢æ³¨å†Œå°±åˆ°æ­¤ä¸ºæ­¢äº†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)_routeURL:(NSURL *)URL withParameters:(NSDictionary *)parameters executeRouteBlock:(BOOL)executeRouteBlock;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>å‚æ•°æ£€æŸ¥</li>
<li>æ ¹æ®url, options, parameters, ç”Ÿæˆrequestå¯¹è±¡</li>
<li>éå†mutableRoutes, æ£€æŸ¥routeå’Œrequestæ˜¯å¦åŒ¹é…ï¼Œï¼ˆå„ç§å¾ªç¯ï¼Œçœ‹æ™•äº†ğŸ‘€ï¼‰</li>
<li>åŒ¹é…ä¹‹åæ‰§è¡ŒhandlerBlock, æ ¹æ®returnå€¼ï¼Œå†³å®šæ˜¯å¦éœ€è¦ç»§ç»­éå†</li>
</ol>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯register ä¸€ä¸ªroute åˆ° mutableRoutesçš„æ•°ç»„ä¸­ï¼Œç„¶åé€šè¿‡çŸ­é“¾è°ƒç”¨çš„æ—¶å€™ç”Ÿæˆrequest-&gt;response,ç„¶åéå†åŒ¹é…mutableRoutesã€‚ä»£ç æ¸…æ™°æ˜“è¯»ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/02/JLRoutesæºç å­¦ä¹ /" data-id="cjxpp457c0009fpz66g492pf6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/05/09/ARKitå­¦ä¹ ç¬”è®°/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          ARKitå­¦ä¹ ç¬”è®°
        
      </div>
    </a>
  
  
    <a href="/2018/04/28/YYModelæºç å­¦ä¹ /" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">YYModelæºç å­¦ä¹ </div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/06/CocoaPods/">CocoaPods</a>
          </li>
        
          <li>
            <a href="/2019/04/07/å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„/">å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„</a>
          </li>
        
          <li>
            <a href="/2019/03/07/git-handbook/">git handbook</a>
          </li>
        
          <li>
            <a href="/2018/12/29/é—²èŠ/">é—²èŠ</a>
          </li>
        
          <li>
            <a href="/2018/10/25/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/">iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 hust_destiny<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>