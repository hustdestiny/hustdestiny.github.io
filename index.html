<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Destiny</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Destiny">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Destiny">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Destiny">
  
    <link rel="alternate" href="/atom.xml" title="Destiny" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Destiny</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-CocoaPods" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/06/CocoaPods/" class="article-date">
  <time datetime="2019-06-06T06:28:33.000Z" itemprop="datePublished">2019-06-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/06/CocoaPods/">CocoaPods</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ä»€ä¹ˆæ˜¯CocoaPods"><a href="#ä»€ä¹ˆæ˜¯CocoaPods" class="headerlink" title="ä»€ä¹ˆæ˜¯CocoaPods"></a>ä»€ä¹ˆæ˜¯CocoaPods</h1><p><a href="https://cocoapods.org/" target="_blank" rel="noopener">HomePage</a></p>
<p>CocoaPodsæ˜¯Swiftå’ŒObjective-Cå·¥ç¨‹çš„ä¾èµ–ç®¡ç†å·¥å…·ã€‚</p>
<h2 id="å¦‚ä½•å®‰è£…"><a href="#å¦‚ä½•å®‰è£…" class="headerlink" title="å¦‚ä½•å®‰è£…"></a>å¦‚ä½•å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods</span><br></pre></td></tr></table></figure>
<h1 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h1><h2 id="åº“çš„ä½¿ç”¨è€…"><a href="#åº“çš„ä½¿ç”¨è€…" class="headerlink" title="åº“çš„ä½¿ç”¨è€…"></a>åº“çš„ä½¿ç”¨è€…</h2><p>Podfileæ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">platform :ios, &apos;8.0&apos;                //å¹³å°ï¼ŒiOSç‰ˆæœ¬</span><br><span class="line">use_frameworks!                     //swifté¡¹ç›®æ²¡æ³•æ‰“æˆ.aæ–‡ä»¶</span><br><span class="line">inhibit_all_warnings!               //å¿½ç•¥æ¡†æ¶çš„è­¦å‘Š</span><br><span class="line"></span><br><span class="line">target &apos;MyApp&apos; do</span><br><span class="line">  pod &apos;AFNetworking&apos;, &apos;~&gt; 2.6&apos;</span><br><span class="line">  pod &apos;ORStackView&apos;, &apos;~&gt; 3.0&apos;</span><br><span class="line">  pod &apos;SwiftyJSON&apos;, &apos;~&gt; 2.3&apos;</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>source â€˜<a href="https://github.com/CocoaPods/Specs.git&#39;" target="_blank" rel="noopener">https://github.com/CocoaPods/Specs.git&#39;</a></p>
<p>target<br>pod<br>podspec :path =&gt; â€˜/Documents/PrettyKit/PrettyKit.podspecâ€™//æŒ‡å®šspec<br>abstract_target//æŠ½è±¡target<br>abstract!// å½“å‰targetçš„æŠ½è±¡æ¨¡å¼<br>inherit!// å½“å‰targetç»§æ‰¿æ¨¡å¼  </p>
<p>pod â€˜SSZipArchiveâ€™, :inhibit_warnings =&gt; false// å¿½ç•¥è­¦å‘Šâš ï¸  </p>
<h3 id="hooks"><a href="#hooks" class="headerlink" title="hooks"></a>hooks</h3><p>pre_install<br>post_install  </p>
<h3 id="pod-install-or-pod-update"><a href="#pod-install-or-pod-update" class="headerlink" title="pod install or pod update"></a>pod install or pod update</h3><p>pod install //å½“ç¬¬ä¸€ä¸ªä»podfileå®‰è£…çš„æ—¶å€™ï¼Œæ·»åŠ æˆ–è€…ç§»é™¤podsçš„æ—¶å€™ï¼ŒPodfile.lockä¸­æ²¡æœ‰çš„å®ƒä¼šæ·»åŠ <br>pod update  //å½“ä½ æƒ³æ›´æ–°podçš„ç‰ˆæœ¬çš„æ—¶å€™  </p>
<h2 id="åº“çš„å¼€å‘è€…"><a href="#åº“çš„å¼€å‘è€…" class="headerlink" title="åº“çš„å¼€å‘è€…"></a>åº“çš„å¼€å‘è€…</h2><p>ä¸»è¦å·¥ä½œæ˜¯é…ç½®Specæ–‡ä»¶ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod spec create Peanut</span><br></pre></td></tr></table></figure></p>
<p><a href="https://guides.cocoapods.org/making/specs-and-specs-repo.html" target="_blank" rel="noopener">Specs</a></p>
<h2 id="ç§æœ‰ä»“åº“"><a href="#ç§æœ‰ä»“åº“" class="headerlink" title="ç§æœ‰ä»“åº“"></a>ç§æœ‰ä»“åº“</h2><p>ä¸»è¦æ˜¯å»ºç«‹ä¸€ä¸ªpodspecs.gitä»“åº“ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/06/CocoaPods/" data-id="cjxpp45710002fpz6prkpzq0v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/07/å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„/" class="article-date">
  <time datetime="2019-04-07T11:46:27.000Z" itemprop="datePublished">2019-04-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/07/å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„/">å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ç»å¯¹å€¼å‡½æ•°<br>fabsã€labs</p>
<p>å‘ä¸Šå–æ•´ã€å‘ä¸‹å–æ•´<br>ceilã€floor</p>
<p>å››èˆäº”å…¥<br>round</p>
<p>æ­£åˆ™è¡¨è¾¾å¼<br>^ // ä»¥ä»€ä¹ˆå¼€å¤´<br>$</p>
<ol>
<li><p>çº¿æ€§ç»“æ„ï¼Œé“¾è¡¨ï¼Œstackï¼Œqueue</p>
</li>
<li><p>æ ‘<br> 4.1 é¡ºåºæŸ¥æ‰¾ï¼Œå“¨å…µçš„åº”ç”¨ O(N)<br> 4.2 äºŒåˆ†æŸ¥æ‰¾ï¼ŒO(logN)ï¼Œä¾èµ–æ’åº<br> 4.3 äºŒå‰æ ‘æ¦‚å¿µ<br> 4.4 äºŒå‰æ ‘éå†ï¼Œå‰åºï¼Œä¸­åºï¼Œååºï¼ˆå †æ ˆï¼‰ï¼Œå±‚åºï¼ˆé˜Ÿåˆ—ï¼‰<br> 4.5 äºŒå‰æœç´¢æ ‘ï¼ŒæŸ¥æ‰¾ï¼Œæ’å…¥ï¼Œåˆ é™¤<br> 4.6 å¹³è¡¡äºŒå‰æ ‘ï¼Œè°ƒæ•´ï¼ˆrr,ll, rl, lrï¼‰æ—‹è½¬<br> 4.7 å †(å®Œå…¨äºŒå‰æ ‘ï¼Œæœ€å¤§æœ€å°å †)ï¼Œå“ˆè´¹æ›¼æ ‘ï¼ˆæƒå€¼ï¼‰ï¼Œé›†åˆ</p>
</li>
<li><p>å›¾<br> 5.1 å›¾çš„æ¦‚å¿µ<br> 5.2 å›¾çš„éå†ï¼Œæ·±åº¦ä¼˜å…ˆ(æ ˆ)ï¼Œå¹¿åº¦ä¼˜å…ˆï¼ˆé˜Ÿåˆ—ï¼‰<br> 5.3 æœ€çŸ­è·¯å¾„<br> 5.4 æœ€å°ç”Ÿæˆæ ‘<br> 5.5 æ‹“æ‰‘æ’åº</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/07/å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„/" data-id="cjxpp4584000rfpz6ciwhir34" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git-handbook" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/07/git-handbook/" class="article-date">
  <time datetime="2019-03-07T13:03:24.000Z" itemprop="datePublished">2019-03-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/07/git-handbook/">git handbook</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;dst&gt; &lt;src&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹åˆ†æ”¯åå­—</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m &lt;oldname&gt; &lt;newname&gt;</span><br></pre></td></tr></table></figure>
<p> ä¿®æ”¹å½“å‰åˆ†æ”¯</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m &lt;newname&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆå¹¶commit</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev zhou-dev</span><br><span class="line">git commit -am<span class="string">"Add1"</span></span><br><span class="line">git commit -am<span class="string">"Add2"</span></span><br><span class="line">git commit -am<span class="string">"Add3"</span></span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">git rebase -i dev</span><br><span class="line">// è¿™å‘½ä»¤å…è®¸åˆå¹¶ ä»zhou-dev åˆ° devçš„ä¸‰ä¸ªcommit</span><br><span class="line">// åœ¨äº¤äº’æ¨¡å¼ä¸­ å°†é¡¶éƒ¨pick </span><br><span class="line">pick &lt;commitid&gt; Add1</span><br><span class="line">pick &lt;commitid&gt; Add2</span><br><span class="line">pick &lt;commitid&gt; Add3</span><br></pre></td></tr></table></figure>
<p> æ”¹ä¸º</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick &lt;commitid&gt; Add1</span><br><span class="line">squash &lt;commitid&gt; Add2</span><br><span class="line">squash &lt;commitid&gt; Add3</span><br></pre></td></tr></table></figure>
<p> ç„¶å</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">wq</span></span><br></pre></td></tr></table></figure>
<p> è¿›å…¥å¦ä¸€ä¸ªé¡µé¢ï¼Œé‡æ–°ç¼–è¾‘commit message </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®(åŠ ä¸Šâ€“globalä»£è¡¨å…¨å±€ï¼Œä¸åŠ åˆ™ä»£è¡¨æœ¬ä»“åº“)</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config [--global] user.name <span class="string">"xxx"</span></span><br><span class="line">git config [--global] user.email <span class="string">"xxx"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“å·²ç»trackäº†æŸäº›æ–‡ä»¶ï¼ŒååŠ å…¥gitignore</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/07/git-handbook/" data-id="cjxpp457t000kfpz659knsijx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-é—²èŠ" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/29/é—²èŠ/" class="article-date">
  <time datetime="2018-12-29T09:53:35.000Z" itemprop="datePublished">2018-12-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/29/é—²èŠ/">é—²èŠ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ä¸çŸ¥ä¸è§‰2018å¹´ï¼Œä»èº«è¾¹åˆ’è¿‡ã€‚</p>
<h2 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h2><p>ä¼¼ä¹ä¹ æƒ¯äº†å¹³æ·¡çš„ç”Ÿæ´»ï¼Œå…¶å®ğŸ‘¨â€ğŸ’»â€çš„å‘¨ä¸€åˆ°å‘¨äº”æ˜¯æ²¡æœ‰ç”Ÿæ´»çš„ï¼Œåªæœ‰å‘¨æœ«æœ‰ã€‚<br>ç§Ÿçš„æˆ¿å­é˜³å…‰å¾ˆå¥½ï¼Œå¹»æƒ³å¾ˆå¤šæ¬¡å‘¨å…­éƒ½æ˜¯è¢«é˜³å…‰ç…§é†’çš„ï¼Œå…¶å®ä¸æ˜¯ã€‚å‘¨å…­é†’çš„æ¯”å¹³æ—¶è¿˜è¦æ—©ï¼Œä¸çŸ¥æ˜¯ä¸æ˜¯æ­¥å…¥ä¸­å¹´ã€‚<br>é†’æ¥åå°èŠ±åŒ å–œæ¬¢æ‘†å¼„å¥¹çš„å®è´ï¼Œç»¿èã€å¤šè‚‰ã€æ €å­èŠ±ã€ğŸŒµã€è¿˜æœ‰æˆ‘å«ä¸ä¸Šåå­—çš„ã€‚<br>ä¹Ÿå°è¯•è¿‡å…»ä¸€äº›ğŸŸï¼Œä½†ä¸çŸ¥é“æ˜¯æ°´æ¸©æ²¡æœ‰æ§åˆ¶å¥½è¿˜æ˜¯å¢æ°§æœºä¸å¤ªè¡Œï¼Œå°é±¼å„¿ä»¬ä¸€æ¡ä¸€æ¡æŒ‚äº†ï¼ŒæŒºä¼¤å¿ƒã€‚<br>æœ€åå°è¯•å…»ä¸€äº›ä¸å®¹æ˜“å‡ºé—®é¢˜çš„ã€‚ä¸¤åªè‰é¾Ÿï¼Œå—¯ï¼ä¸€ç›´ä¸çˆ±åŠ¨ï¼Œå¦ä¸€åªç»å¸¸çˆ¬ä¸ŠèƒŒå ç½—æ±‰~~è¿˜å¾—ç­‰ä»–ä»¬å¤§ä¸€äº›æ‰å¥½ç©ã€‚<br>å–œæ¬¢çœ‹åƒé¸¡ä¸»æ’­æ‰˜é©¬æ–¯ç©æ¸¸æˆï¼Œç”Ÿæ´»å¾ˆå¥½å¬ã€‚è‡ªå·±ä¹Ÿç©äº†å‡ å±€å¤ªéš¾äº†ï¼Œç®€ç›´å°è‹çï¼Œèœæ˜¯åŸç½ªã€‚è¿½äº†TIï¼ŒLGDè¿˜æ˜¯å·®ä¸€ç‚¹è¿æ°”ï¼ŒMayçš‡è¡¨ç°å¾ˆå¥½ã€‚<br>å¤§å¨çš„æ‰‹è‰ºè¶Šæ¥è¶Šå¥½äº†ï¼Œå¢åŠ äº†å¥½å¤šæ‹¿æ‰‹èœï¼Œæˆ‘ä¹Ÿè·Ÿç€æ¶¨äº†ä¸å°‘è†˜ã€‚ä¸€ç¢—éº»å©†è±†è…ç®€ç›´å¢åŠ æˆ‘å”¾æ¶²åˆ†æ³Œã€‚æ‰‹å·¥æ“€é¢åŒ…é¥ºå­ä¹Ÿæ˜¯æå…¶æˆåŠŸçš„ã€‚</p>
<h2 id="æŠ•èµ„"><a href="#æŠ•èµ„" class="headerlink" title="æŠ•èµ„"></a>æŠ•èµ„</h2><p>å¼€å§‹ä¹°äº†äº›åŸºé‡‘ï¼Œè™½ç„¶æœ‰ä¸“é—¨çš„åŸºé‡‘ç»ç†æ‰“ç†ï¼Œä½†æ˜¯è§‰å¾—åŸºé‡‘è¿˜æ˜¯å¤ªä¸çµæ´»äº†ï¼Œä¹Ÿçœ‹ä¸æ¸…æ¥šç»ç†çš„æ“ä½œï¼Œä¸å¤ªå–œæ¬¢è¿™ç§å¤±æ§çš„æ„Ÿè§‰ã€‚<br>ç„¶åå¼€å§‹ä¹°è‚¡ç¥¨ï¼ŒçœŸçš„æ˜¯çä¹°ï¼Œå°±è·ŸèµŒåšä¸€æ ·ä¹°å¤§ä¹°å°ã€‚çœ‹åˆ°ä¸€äº›å…¬ä¼—å·ï¼Œå¤§å¤šä¹Ÿæ˜¯æ¨èä¹°æŒ‡æ•°çš„ã€‚å…¶å®æ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼Œæ²¡ä»€ä¹ˆæ˜¯ç¨³èµšä¸èµ”çš„ã€‚çœŸè¦èƒ½çœ‹æ‡‚å…¬å¸çš„è´¢æŠ¥ï¼Œå‘å±•çš„æ–¹å‘çœŸçš„æ˜¯ä¸å®¹æ˜“ï¼Œè€—æ—¶è€—åŠ›ã€‚æ‰€ä»¥æ²¡æœ‰ä»€ä¹ˆæ˜¯å¤©ä¸Šæ‰ä¸‹æ¥çš„ï¼Œå°±ç®—æœ‰ä¹Ÿä¸ä¼šå¤©å¤©æ‰ã€‚<br>å†åæ¥å°±ä¸ä¹°äº†ï¼Œç°é˜¶æ®µè¿˜æ˜¯å·¥ä½œæ›´é‡è¦ï¼Œæ—¶é—´æœ¬æ¥å°±å¾ˆå®è´µï¼ŒæŠ•èµ„è¿™ä»¶äº‹æš‚ä¸”æ”¾æ”¾ã€‚</p>
<h2 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h2><p>æš‚æ— ï¼Œå†œå†å¹´æœ«å†è¡¥å……å§</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/29/é—²èŠ/" data-id="cjxpp4587000ufpz6nbnx4o3a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/25/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/" class="article-date">
  <time datetime="2018-10-25T12:55:38.000Z" itemprop="datePublished">2018-10-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/25/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/">iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ç®€å•è®°å½•ä¸€ä¸‹é€†å‘æŠ–éŸ³çš„è¿‡ç¨‹ã€‚</p>
<h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><ul>
<li>è¶Šç‹±æ‰‹æœºä¸€å°ï¼ŒiPhone5s+10.3.3</li>
<li>iFunbox</li>
<li>Clutch</li>
<li>class-dump</li>
<li>Hopper</li>
<li>Reveal</li>
<li>Charles</li>
<li>Thoes</li>
<li>Keychain-Dumper</li>
</ul>
<h1 id="å¹²æ´»"><a href="#å¹²æ´»" class="headerlink" title="å¹²æ´»"></a>å¹²æ´»</h1><ol>
<li><p>ç»™è¶Šç‹±æ‰‹æœºå®‰è£…å·¥å…·<br> substrate safemode(å¾ˆå¤šdebçš„ä¾èµ–)<br> dropbear(sshå·¥å…·)<br> preferencesload + sslkillswitch(ç”¨æ¥æŠ“åŒ…)<br> reveal2loader(ç”¨æ¥çœ‹å±‚çº§ç»“æ„)<br> cycript(æ‰§è¡Œä»£ç )<br> AppSync-Unified + appinst(å®‰è£…ç ¸å£³åçš„ipa)</p>
</li>
<li><p>å°†Clutchï¼Œcpåˆ°æ‰‹æœºä¸Šå¹¶èµ‹äºˆæ‰§è¡Œæƒé™ï¼Œæ‰¾å‡ºæŠ–éŸ³çš„åºå·ï¼Œç ¸å£³ä¼šè¾“å‡ºç ¸å£³åçš„è·¯å¾„</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x Clutch</span><br><span class="line">Clutch -i</span><br><span class="line">Clutch -d (index)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹åå­—åcopyåˆ°ç”µè„‘ä¸Š<br> ä½¿ç”¨class-dumpï¼Œæå–å¤´æ–‡ä»¶<br> ä½¿ç”¨Hopperï¼Œåˆ†æäºŒè¿›åˆ¶ï¼Œè·å¾—éƒ¨åˆ†æ±‡ç¼–å®ç°ï¼ˆæˆ‘æ¨èåˆ†æå®Œä¿å­˜ä¸€ä»½ï¼Œä¸ç„¶æ¯æ¬¡æ‰“å¼€éƒ½å¾ˆæ…¢ï¼‰</p>
</li>
<li><p>ä½¿ç”¨revealåˆ†æUI</p>
<p> é¦–å…ˆåœ¨è¶Šç‹±æ‰‹æœºå®‰è£…Reveal2Loaderï¼Œåœ¨Macç«¯å®‰è£…Revealv4(8796)<br> è¿™å¥½åƒæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ‰¾å‡ºæ„Ÿå…´è¶£çš„é¡µé¢æˆ–è€…é€»è¾‘ã€‚å› ä¸ºèƒ½ç›´æ¥çœ‹åˆ°å¯¹è±¡çš„åœ°å€ï¼Œæ‰€ä»¥é…åˆcycriptç®€ç›´æ— æ•Œã€‚</p>
</li>
<li><p>ä½¿ç”¨cycriptåœ¨è¿è¡Œæ—¶å°è¯•ä½ çš„æƒ³æ³•ï¼Œå…·ä½“cycriptè‡ªè¡Œç™¾åº¦ä¹‹</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cycript -p Aweme</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨Charlesè¿›è¡ŒæŠ“åŒ…</p>
<p> ä½†æ˜¯æˆ‘å‘ç°æŠ–éŸ³ï¼Œåªæœ‰åˆšåˆšå®‰è£…ï¼Œå¹¶ä¸”ç¬¬ä¸€æ¬¡æ‰“å¼€æ‰å¯ä»¥æŠ“åŒ…ã€‚killä¹‹åå°±ä¸å¯ä»¥æŠ“åŒ…äº†ã€‚<del>ï¼ˆå½“ç„¶åˆ é™¤æ²™ç›’ä¹‹åä¹Ÿå¯ä»¥ï¼‰å¾ˆå¥‡æ€ª</del>ã€‚å’ŒSSLPinningç›¸å…³å¾…è¡¥å……ã€‚</p>
</li>
<li><p>Keychain-Dumper</p>
<p> <a href="https://github.com/ptoomey3/Keychain-Dumper" target="_blank" rel="noopener">githubåœ°å€</a></p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /var/Keychains</span><br><span class="line">chmod +r keychain-2.db</span><br><span class="line">cp /User/Media/ASO/keychain_dumper /bin/keychain_dumper</span><br><span class="line">chmod +x /bin/keychain_dumper</span><br><span class="line">keychain_dumper &gt; keychain-export.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>Hopper+lldb</p>
<p> é¦–å…ˆåšä¸€æ¬¡ç«¯å£æ˜ å°„ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡USBç›´æ¥è®¿é—®æ‰‹æœºå•¦ï¼Œè¾¾åˆ°çš„æ•ˆæœå°±æ˜¯<br> é€šè¿‡è®¿é—®ç”µè„‘çš„2222ç«¯å£è®¿é—®åˆ°æ‰‹æœºçš„22ç«¯å£ï¼Œ22æ˜¯æ‰‹æœºçš„sshç«¯å£<br> é€šè¿‡è®¿é—®ç”µè„‘çš„3333ç«¯å£è®¿é—®åˆ°æ‰‹æœºçš„1234ç«¯å£ï¼Œ1234æ˜¯åé¢çš„debugserverçš„ç«¯å£</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iproxy 2222 22</span><br><span class="line">iproxy 3333 1234</span><br></pre></td></tr></table></figure>
<p> <a href="https://www.cnblogs.com/ludashi/p/5730338.html" target="_blank" rel="noopener">è°ƒè¯•æ•™ç¨‹</a></p>
</li>
<li><p>ä½¿ç”¨Thoesï¼Œç¼–å†™æ’ä»¶</p>
<p> æ­¤å¤„çœç•¥ä¸€åƒå­—ã€‚ã€‚</p>
</li>
</ol>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å…¶å®è¿™äº›å·¥å…·çš„ä½¿ç”¨éƒ½åªæ˜¯çš®æ¯›ï¼Œç¨å¾®æœ‰ç‚¹å…¥é—¨çš„è¯ï¼Œåº”è¯¥æ˜¯åˆ†æï¼Œæ±‡ç¼–ï¼Œè¿˜åŸå‡½æ•°ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/25/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/" data-id="cjxpp4581000pfpz6eqffioeh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ä¸­ç§‹ä»¥å" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/26/ä¸­ç§‹ä»¥å/" class="article-date">
  <time datetime="2018-09-26T14:47:13.000Z" itemprop="datePublished">2018-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/26/ä¸­ç§‹ä»¥å/">ä¸­ç§‹ä»¥å</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>è¿™ä¸ªæœˆæœ‰ç‚¹ç´¯ï¼Œå¥½å¤šäº‹æƒ…äº¤é”™åœ¨ä¸€èµ·ã€‚</p>
<p>å·¥ä½œä¸Šåˆšè¿›å…¥ä¸€ä¸ªæ–°çš„é¢†åŸŸï¼Œä¸”è¿›å±•ä¸æ˜¯å¾ˆé¡ºåˆ©ï¼Œå°±ä¸è¿‡å¤šçš„åæ§½äº†ã€‚ç å†œçœŸçš„æ˜¯ä¸€ä¸ªç„¦è™‘çš„èŒä¸šï¼Œæ¯å¤©å°±æ˜¯ä¸æ–­çš„å­¦ä¹ ï¼Œæ„Ÿè§‰æ€»æœ‰å­¦ä¸å®Œçš„æ–°çŸ¥è¯†ã€‚æˆ–è®¸æˆ‘è¿˜æ²¡æœ‰æ‰¾åˆ°è¡Œä¸šçš„é—¨é“å§ï¼Œæˆ‘åˆæ‰“ç®—é‡æ–°ç†ä¸€ä¸‹åŸºç¡€ï¼Œåªæœ‰åŸºç¡€è¶Šæ‰å®æ‰èƒ½ç«™çš„æ›´é«˜ã€‚</p>
<p>åŠ æ²¹ï¼</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/26/ä¸­ç§‹ä»¥å/" data-id="cjxpp4585000sfpz6nrb92jzy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/27/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰/" class="article-date">
  <time datetime="2018-08-27T09:07:35.000Z" itemprop="datePublished">2018-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/27/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰/">iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>æœ€è¿‘è¿›å…¥åˆ°ä¸€ä¸ªæ–°çš„é¢†åŸŸï¼ŒiOSé€†å‘ã€‚å“‡ï¼Œå¬èµ·æ¥å¥½åƒå¾ˆé«˜å¤§ä¸Šçš„æ ·å­å‘¢ã€‚è¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒæœ‰é—¨æ§›çš„ï¼Œå‰æœŸä¸»è¦æ˜¯è¦å­¦ä¹ ä¸€äº›å·¥å…·ã€‚</p>
<p>å‰ææ¡ä»¶</p>
<ol>
<li>è™šæ‹Ÿæœº+win7+çˆ±æ€åŠ©æ‰‹ï¼ˆè¶Šç‹±è½¯ä»¶ï¼‰</li>
<li>å¯è¶Šç‹±çš„iPhoneè®¾å¤‡</li>
<li>thoesæ¡†æ¶ï¼ˆå¯ä»¥ç¼–å†™æ’ä»¶ä»£ç æ³¨å…¥ï¼‰</li>
<li>iFunBox (å¯ä»¥copyå†…å®¹è‡³æŒ‡å®šMediaæ–‡ä»¶å¤¹)</li>
<li>Charles (ç½‘ç»œå·¥å…·)</li>
<li>Cycript/Reveal ä¸»è¦ç”¨æ¥çœ‹é¡µé¢å±‚çº§</li>
<li>è€ç‰ˆæœ¬çš„Xcode7.1 æ‰§è¡Œ xcode-select -s appçš„è·¯å¾„</li>
<li>ç†Ÿç»ƒä½¿ç”¨linux/unixå‘½ä»¤mv, cp, cat, grep, mkdir, rm ç­‰, ä½¿ç”¨vim, ssh</li>
</ol>
<p>å®‰è£…<br>Cydiaï¼Œè¶Šç‹±è½¯ä»¶çš„AppStoreã€‚</p>
<ol>
<li>Filza</li>
<li>Substrate Safe Mode</li>
<li>Dropbear</li>
<li>Cycript</li>
<li>ssl-kill-switch2</li>
</ol>
<p>Thoesè¿è¡Œä¸€ä¸ªé¡¹ç›®å°±å¯ä»¥è·‘èµ·æ¥äº†ã€‚</p>
<p>è¿˜æ²¡å…¥é—¨ï¼Œä»»é‡é“è¿œã€‚ã€‚fight!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/27/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰/" data-id="cjxpp457z000ofpz6sf7h8nb9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/27/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰/" class="article-date">
  <time datetime="2018-07-27T13:21:35.000Z" itemprop="datePublished">2018-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/27/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰/">GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>GPUImageæ¯”æˆ‘æƒ³è±¡çš„è¦å¼ºå¤§çš„å¤šã€‚æˆ‘æœ¬æƒ³åˆ‡æ¢åˆ°Swiftçš„ç‰ˆæœ¬ã€‚åŠŸåŠ›å°šæœªè¾¾åˆ°ï¼Œæˆ‘åˆåˆ‡å›æ¥äº†ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/27/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰/" data-id="cjxpp457a0008fpz6mzxi57br" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/05/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰/" class="article-date">
  <time datetime="2018-07-05T03:06:00.000Z" itemprop="datePublished">2018-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/05/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰/">GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>æœ¬æ–‡è®°å½•ä¸€ä¸‹æ¢ç´¢GPUImageæ¸²æŸ“çš„è¿‡ç¨‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">self.camera = [[GPUImageVideoCamera alloc] initWithSessionPreset:AVCaptureSessionPresetHigh cameraPosition:AVCaptureDevicePositionFront];</span><br><span class="line">self.camera.horizontallyMirrorFrontFacingCamera = YES;</span><br><span class="line">self.camera.outputImageOrientation = UIDeviceOrientationPortrait;</span><br><span class="line">self.filter = [[GPUImageFilter alloc] init];</span><br><span class="line">self.imageView = [[GPUImageView alloc] initWithFrame:[UIScreen mainScreen].bounds];</span><br><span class="line">[self.view addSubview:self.imageView];</span><br><span class="line"></span><br><span class="line">[self.camera addTarget:self.filter];</span><br><span class="line">[self.filter addTarget:self.imageView];</span><br><span class="line"></span><br><span class="line">[self.camera startCameraCapture];</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯æˆ‘åœ¨ä½¿ç”¨GPUImageçš„ä»£ç ï¼Œå¾ˆç®€å•çš„å®Œæˆäº†ä½¿ç”¨å‰ç½®æ‘„åƒå¤´çš„ä»»åŠ¡ï¼Œä½†æ˜¯èƒŒåå¯ä¸ç®€å•ã€‚</p>
<p>è¿™é‡Œæˆ‘è®¾ç½®äº†ä¸‰ä¸ªçŠ¶æ€<br>position: AVCaptureDevicePositionFront  //è¿™ä¸ªçŠ¶æ€ä½¿ç”¨äº†å‰ç½®æ‘„åƒå¤´<br>horizontallyMirrorFrontFacingCamera: YES //å‰ç½®æ‘„åƒå¤´é•œåƒ<br>outputImageOrientation: UIDeviceOrientationPortrait //è¾“å‡ºçš„å›¾åƒæ˜¯ç«–æ–¹å‘çš„</p>
<p>videosettings:é‡‡æ ·æ ¼å¼è¢«è®¾ç½®ä¸ºkCVPixelFormatType_420YpCbCr8BiPlanarFullRange===&gt;è¿™ç§420fè§†é¢‘æ ¼å¼ä¸ºNV12ï¼ŒYåˆ†é‡ä¸€ä¸ªplane,UVä¸€èµ·å­˜å‚¨ã€‚Y1Y2â€¦YN(U0V0)(U1V1)(Un/2Vn/2),UVå‰åé¡ºåºè¿˜å¾—å†ç¡®è®¤ä¸‹ã€‚</p>
<p>æ¥ç€å°±æ˜¯åˆ›å»ºä¸€ä¸ªshaderç¨‹åºå°±å…¶è½¬æ¢æˆRGBAçš„æ ¼å¼<br>vertex shaderæ˜¯æœ€ç®€å•çš„ç›´é€š<br>fragment shaderå°±æ¯”è¾ƒå¤æ‚äº†<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">varying highp vec2 textureCoordinate;</span><br><span class="line"></span><br><span class="line">uniform sampler2D luminanceTexture;</span><br><span class="line">uniform sampler2D chrominanceTexture;</span><br><span class="line">uniform mediump mat3 colorConversionMatrix;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mediump vec3 yuv;</span><br><span class="line">    lowp vec3 rgb;</span><br><span class="line">    </span><br><span class="line">    yuv.x = texture2D(luminanceTexture, textureCoordinate).r;</span><br><span class="line">    yuv.yz = texture2D(chrominanceTexture, textureCoordinate).ra - vec2(<span class="number">0.5</span>, <span class="number">0.5</span>);</span><br><span class="line">    rgb = colorConversionMatrix * yuv;</span><br><span class="line">    </span><br><span class="line">    gl_FragColor = vec4(rgb, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œé™¤äº†ä¼ é€’äº†ä¸¤ä¸ªçº¹ç†ä¹‹åï¼Œè¿˜ä¼ é€’äº†ä¸€ä¸ªçŸ©é˜µ<br>GLfloat kColorConversion601FullRangeDefault[] = {<br>    1.0,    1.0,    1.0,<br>    0.0,    -0.343, 1.765,<br>    1.4,    -0.711, 0.0,<br>};<br>è¿™ä¸ªæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè½¬æ¢å…¬å¼ï¼Œå°†yuv420ä¸¤ä¸ªåˆ†é‡çš„çº¹ç†ï¼ˆyï¼‰(uv)è½¬æ¢æˆäº†rgbaçš„çº¹ç†<br>1.0<em>y + 1.0</em>u + 1.0<em>v = r<br>0.0</em>y - 0.343<em>u + 1.765</em>v = g<br>1.4<em>y - 0.711</em>u + 0.0*v = b</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/05/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰/" data-id="cjxpp45780007fpz69wk0to5b" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/26/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/" class="article-date">
  <time datetime="2018-06-26T13:04:12.000Z" itemprop="datePublished">2018-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/26/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/">GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Sourceç»„ä»¶"><a href="#Sourceç»„ä»¶" class="headerlink" title="Sourceç»„ä»¶"></a>Sourceç»„ä»¶</h2><p>ç»§æ‰¿å…³ç³»<br>GPUImageOutput â€“&gt; GPUImageVideoCamera â€“&gt; GPUImageStillCamera<br>               â€“&gt; GPUImagePicture<br>               â€“&gt; GPUImageMovie â€“&gt; GPUImageMovieComposition<br>               â€“&gt; GPUImageTextureInput<br>               â€“&gt; GPUImageRawDataInput<br>               â€“&gt; GPUImageUIElement</p>
<p>Sourceç»„ä»¶æ˜¯æ•°æ®çš„æ¥æºï¼Œä¾æ¬¡ä¸ºæ‘„åƒå¤´ã€å›¾ç‰‡ã€è§†é¢‘ã€openglçº¹ç†ã€äºŒè¿›åˆ¶æ•°æ®ã€UIElement</p>
<h2 id="å†…ç½®æ»¤é•œ"><a href="#å†…ç½®æ»¤é•œ" class="headerlink" title="å†…ç½®æ»¤é•œ"></a>å†…ç½®æ»¤é•œ</h2><p>ç»§æ‰¿å…³ç³»<br>GPUImageOutput â€“&gt; GPUImageFilter â€“&gt; GPUImageTwoInputFilter â€“&gt; GPUImageThreeInputFilter â€“&gt; GPUImageFourInputFilter<br>                                                             â€“&gt; GPUImageTwoInputCrossTextureSamplingFilter<br>               â€“&gt; GPUImageTwoPassFilter â€“&gt; GPUImageTwoPassTextureSamplingFilter<br>               â€“&gt; GPUImageFilterGroup<br>               â€“&gt; GPUImage3x3TextureSamplingFilter</p>
<p>å†…ç½®æ»¤é•œ</p>
<ol>
<li>é¢œè‰²å¤„ç†</li>
<li>å›¾åƒå¤„ç†</li>
<li>æ··åˆ</li>
<li>æ•ˆæœ</li>
</ol>
<p>è¿™æ˜¯æ»¤é•œçš„æŠ½è±¡åŸºç±»ï¼Œç»å¤§éƒ¨åˆ†æ»¤é•œéƒ½å¯ä»¥ä»è¿™é‡Œç»§æ‰¿ï¼Œç„¶åå†™å¯¹åº”çš„shaderç¨‹åº</p>
<h2 id="Outputç»„ä»¶"><a href="#Outputç»„ä»¶" class="headerlink" title="Outputç»„ä»¶"></a>Outputç»„ä»¶</h2><p>GPUImageView<gpuimageinput><br>GPUImageMovieWriter<gpuimageinput><br>GPUImageTextureOutput<gpuimageinput><br>GPUImageRawDataOutput<gpuimageinput></gpuimageinput></gpuimageinput></gpuimageinput></gpuimageinput></p>
<p>è¿™æ˜¯ç»ˆç‚¹ï¼Œä»–ä»¬éƒ½éµå¾ªäº†<gpuimageinput>åè®®</gpuimageinput></p>
<h2 id="GLProgram-ï¼ˆåˆ›å»º-ç¼–è¯‘-é“¾æ¥-ä½¿ç”¨ï¼‰"><a href="#GLProgram-ï¼ˆåˆ›å»º-ç¼–è¯‘-é“¾æ¥-ä½¿ç”¨ï¼‰" class="headerlink" title="GLProgram ï¼ˆåˆ›å»º ç¼–è¯‘ é“¾æ¥ ä½¿ç”¨ï¼‰"></a>GLProgram ï¼ˆåˆ›å»º ç¼–è¯‘ é“¾æ¥ ä½¿ç”¨ï¼‰</h2><ol>
<li>åˆ›å»ºä¸€ä¸ªç€è‰²å™¨ç¨‹åºï¼Œç¼–è¯‘é¡¶ç‚¹å’Œç‰‡æ®µç€è‰²å™¨ï¼Œattachåˆ°programä¸­å»</li>
<li>é“¾æ¥ç€è‰²å™¨ç¨‹åºï¼Œé“¾æ¥æˆåŠŸååˆ é™¤é¡¶ç‚¹å’Œç‰‡æ®µç€è‰²å™¨ï¼Œåˆå§‹åŒ–å®Œæˆ</li>
<li>ä½¿ç”¨ç€è‰²å™¨ç¨‹åºï¼Œä¹ŸåŒ…æ‹¬è®¾ç½®å’Œè·å¾—attributeå’Œuniform</li>
</ol>
<h2 id="GPUImageContext"><a href="#GPUImageContext" class="headerlink" title="GPUImageContext"></a>GPUImageContext</h2><ol>
<li>åˆå§‹åŒ–ç»˜åˆ¶ä¸²è¡Œé˜Ÿåˆ—</li>
<li>å½“å‰ç€è‰²å™¨ç¨‹åº</li>
<li>åˆå§‹åŒ–OpenGLESä¸Šä¸‹æ–‡</li>
<li>åˆå§‹åŒ–CoreVideoçº¹ç†ç¼“å­˜ï¼Œ CVOpenGLESTextureCacheCreateTextureFromImageçš„ä½œç”¨æ˜¯å°†CVPixelBufferRefè½¬æ¢æˆtextureï¼Œå…¶ä¸­ä½¿ç”¨åˆ°texturecacheéœ€è¦æå‰åˆ›å»ºå¥½ã€‚CVOpenGLESTextureCacheCreateã€‚</li>
<li>åˆå§‹åŒ–framebuffercache</li>
<li>æä¾›ä¸€ä¸ªè·å–programçš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­è¿˜ç¼“å­˜program</li>
</ol>
<h2 id="GPUImageFramebuffer"><a href="#GPUImageFramebuffer" class="headerlink" title="GPUImageFramebuffer"></a>GPUImageFramebuffer</h2><ol>
<li>åˆå§‹åŒ–æ–¹æ³•,å…¶ä¸»è¦çš„ç›®çš„æ˜¯ç”Ÿæˆframebufferå’Œä¸€ä¸ªç»‘å®šçš„ç©ºtextureã€‚</li>
<li>generateFramebufferï¼Œç”Ÿæˆframebuffer,ä¸openglç»‘å®šã€‚æ ¹æ®é€‰é¡¹ç”Ÿæˆçº¹ç†ï¼Œä¸openglç»‘å®šã€‚åˆ†é…çº¹ç†çš„ç©ºé—´ã€‚å°†å…¶ä½œä¸ºframebufferçš„é™„ä»¶ã€‚</li>
<li>çº¹ç†çš„ç”ŸæˆCVOpenGLESTextureCacheCreateTextureFromImageæ•ˆç‡æ›´é«˜ã€‚renderTargetæ˜¯ä¸€ä¸ªç©ºçš„CVPixelBufferRef<br>(CVPixelBufferRef+CVOpenGLESTextureCacheRef)=&gt;CVOpenGLESTextureRef=&gt;texture</li>
</ol>
<h2 id="GPUImageFramebufferCache-ç®¡ç†Framebuffer"><a href="#GPUImageFramebufferCache-ç®¡ç†Framebuffer" class="headerlink" title="GPUImageFramebufferCache ç®¡ç†Framebuffer"></a>GPUImageFramebufferCache ç®¡ç†Framebuffer</h2><h2 id="shaderç¨‹åº"><a href="#shaderç¨‹åº" class="headerlink" title="shaderç¨‹åº"></a>shaderç¨‹åº</h2><p>varying highp vec2 textureCoordinate;</p>
<p>varying æ˜¯é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡æ®µç€è‰²å™¨ä¹‹é—´åšæ•°æ®ä¼ é€’ä½¿ç”¨ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ï¼Œé¡¶ç‚¹ç€è‰²å™¨ä¿®æ”¹varyingå˜é‡å€¼ï¼Œç‰‡æ®µç€è‰²å™¨ä½¿ç”¨è¿™ä¸ªå€¼ã€‚<br>highp å£°æ˜äº†å˜é‡çš„ç²¾åº¦ï¼ˆå¦å¤–è¿˜æœ‰mediump, lowpï¼‰<br>vec2 å£°æ˜äº†å˜é‡çš„ç±»å‹æ˜¯ä¸€ä¸ªäºŒç»´å˜é‡<br>textureCoordinate è¿™ä¸ªå˜é‡åæ˜¯çº¹ç†åæ ‡çš„æ„æ€ã€‚å› ä¸ºéœ€è¦åœ¨é¡¶ç‚¹å’Œç‰‡æ®µç€è‰²å™¨ä¸­åŒæ—¶ä½¿ç”¨ï¼Œæ‰€ä»¥æ˜¯ä¸èƒ½æ›´æ”¹çš„ã€‚å¯ä»¥ç†è§£ä¸ºå½“å‰åæ ‡</p>
<p>uniform sampler2D inputImageTexture;<br>uniform è¡¨ç¤ºå˜é‡æ˜¯å¤–éƒ¨ä¼ é€’è¿›æ¥çš„shaderå˜é‡ï¼Œåªèƒ½ä½¿ç”¨ä¸èƒ½ä¿®æ”¹<br>sampler2D è¡¨ç¤ºæ˜¯ä¸€ä¸ª2Dçº¹ç†<br>inputImageTexture è¿™ä¸ªå˜é‡åè¡¨ç¤ºè¾“å…¥çš„å›¾åƒã€‚å¯ä»¥ç†è§£ä¸ºå½“å‰å›¾åƒ</p>
<p>uniform mediump vec3 inputColor;<br>uniform mediump float threshold;<br>è¿™ä¸¤ä¸ªæ˜¯å¤–éƒ¨ä¼ è¿›æ¥çš„å˜é‡,åœ¨GPUImageä¸­é€šè¿‡å¦‚ä¸‹ä»£ç å¯ä»¥è®¾ç½®ä¼ å…¥<br>[positionFilter setFloat:thresholdSensitivity forUniformName:@â€thresholdâ€];<br>[positionFilter setFloatVec3:thresholdColor forUniformName:@â€inputColorâ€];</p>
<p>const mediump vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);//æƒé‡<br>vec4 pixelColor = texture2D(inputImageTexture, textureCoordinate);//å–å‡ºåƒç´ ç‚¹<br>lowp float luminance = dot(pixelColor.rgb, luminanceWeighting);//ç‚¹ä¹˜ï¼Œè®¡ç®—ä¸­å’Œäº®åº¦å€¼<br>lowp vec3 greyScaleColor = vec3(luminance)<br>gl_FragColor æ˜¯ Fragment Shader é¢„å…ˆå®šä¹‰çš„å˜é‡ï¼Œèµ‹ç»™å®ƒçš„å€¼å°±æ˜¯è¯¥ç‰‡æ®µæœ€ç»ˆçš„é¢œè‰²å€¼</p>
<h2 id="åŸºæœ¬çš„shaderå‡½æ•°"><a href="#åŸºæœ¬çš„shaderå‡½æ•°" class="headerlink" title="åŸºæœ¬çš„shaderå‡½æ•°"></a>åŸºæœ¬çš„shaderå‡½æ•°</h2><p>mix çº¿æ€§å·®å€¼å‡½æ•°<br>å‡½æ•°æ¥å£mix(x, y, level);<br>x, y : è¾“å…¥å€¼<br>level :  æ’å€¼ç³»æ•°<br>return : è¿”å›æ’å€¼ç»“æœ<br>æè¿° : dest = x <em> (1 - level) + y </em> level;</p>
<p>clamp è§„æ•´è¾“å…¥å€¼<br>å‡½æ•°æ¥å£: clamp(x, min, max)<br>x : è¾“å…¥å€¼<br>min : æœ€å°å€¼<br>max : æœ€å¤§å€¼<br>return : æ ¹æ®è¾“å…¥çš„xï¼Œè¿”å›ä»‹äº min ä¸ max ä¹‹é—´çš„å€¼ã€‚<br>æè¿° : å½“ x &lt; minæ—¶ï¼Œè¿”å›minï¼Œå½“ x &gt; max æ—¶ï¼Œè¿”å› max</p>
<p>dot ç‚¹ä¹˜<br>å‡½æ•°æ¥å£: dot(x, y)<br>x, y : è¾“å…¥å˜é‡ï¼Œå¿…é¡»æ˜¯å‘é‡<br>return : ç‚¹ç§¯ç»“æœ<br>æè¿° : å¯¹äºå‘é‡a, bï¼Œè¿”å›çš„ç»“æœæ˜¯ y = âˆ‘(ai * bi) ä¹˜ç§¯ä¹‹å’Œã€‚</p>
<h3 id="Vertex-shader"><a href="#Vertex-shader" class="headerlink" title="Vertex shader"></a>Vertex shader</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">attribute vec4 position;//é¡¶ç‚¹åæ ‡</span><br><span class="line">attribute vec4 inputTextureCoordinate;//ä¼ å…¥çº¹ç†åæ ‡</span><br><span class="line"></span><br><span class="line">varying vec2 textureCoordinate;//ä¼ ç»™fragçš„åæ ‡</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_Position = position;//é¢„å®šä¹‰å˜é‡</span><br><span class="line">    textureCoordinate = inputTextureCoordinate.xy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> é¡¶ç‚¹åæ ‡ position åŸç‚¹åœ¨ä¸­é—´<br>        // å±å¹•å››ä¸ªé¡¶ç‚¹<br>        static const GLfloat imageVertices[] = {<br>            -1.0f, -1.0f,<br>            1.0f, -1.0f,<br>            -1.0f,  1.0f,<br>            1.0f,  1.0f,<br>        };<br> çº¹ç†åæ ‡ inputTextureCoordinate å·¦ä¸‹è§’æ˜¯åŸç‚¹ï¼Œä»å·¦åˆ°å³ã€ä»ä¸‹åˆ°ä¸Šåæ ‡ä¾æ¬¡é€’å¢ã€‚<a href="https://www.jianshu.com/p/e7245b62d2b3" target="_blank" rel="noopener">åæ ‡è§£é‡Š</a></p>
<h3 id="fragmentShader"><a href="#fragmentShader" class="headerlink" title="fragmentShader"></a>fragmentShader</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> varying highp vec2 textureCoordinate;</span><br><span class="line"></span><br><span class="line">uniform sampler2D inputImageTexture;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    gl_FragColor = texture2D(inputImageTexture, textureCoordinate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void)renderToTextureWithVertices:(const GLfloat *)vertices textureCoordinates:(const GLfloat *)textureCoordinates</span><br><span class="line"> ä¸Šé¢è¿™ä¸ªæ˜¯GPUImageFilterçš„é»˜è®¤æ–¹æ³•ï¼Œå¤§è‡´åšäº†è¿™ä¹ˆå‡ ä»¶äº‹æƒ…ï¼š</span><br><span class="line">1). å‘frameBufferCacheç”³è¯·ä¸€ä¸ªoutputFrameBuffer</span><br><span class="line">2). å°†ç”³è¯·å¾—åˆ°çš„outputFrameBufferæ¿€æ´»å¹¶è®¾ä¸ºæ¸²æŸ“å¯¹è±¡</span><br><span class="line">3). glClearæ¸…é™¤ç”»å¸ƒ</span><br><span class="line">4). è®¾ç½®è¾“å…¥çº¹ç†</span><br><span class="line">5). ä¼ å…¥é¡¶ç‚¹</span><br><span class="line">6). ä¼ å…¥çº¹ç†åæ ‡</span><br><span class="line">7). è°ƒç”¨ç»˜åˆ¶æ–¹æ³•</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageBrightnessFilter-æ˜äº®æ»¤é•œ"><a href="#GPUImageBrightnessFilter-æ˜äº®æ»¤é•œ" class="headerlink" title="GPUImageBrightnessFilter æ˜äº®æ»¤é•œ"></a>GPUImageBrightnessFilter æ˜äº®æ»¤é•œ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">varying highp vec2 textureCoordinate; //çº¹ç†åæ ‡ï¼Œå¯ä»¥ç†è§£ä¸ºå½“å‰å¤„ç†åƒç´ ç‚¹çš„åæ ‡</span><br><span class="line"></span><br><span class="line">uniform sampler2D inputImageTexture; // è¾“å…¥å›¾åƒçš„çº¹ç†ï¼Œå¯ä»¥ç†è§£ä¸ºéœ€è¦å¤„ç†çš„å›¾åƒ</span><br><span class="line">uniform lowp float brightness; // æ˜äº®åº¦ï¼Œ-1åˆ°1çš„ä¸€ä¸ªå€¼ã€‚</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);//å–å‡ºè¾“å…¥å›¾åƒå¯¹åº”åæ ‡ çš„çº¹ç†color</span><br><span class="line">    </span><br><span class="line">    gl_FragColor = vec4((textureColor.rgb + vec3(brightness)), textureColor.w);//å°†åƒç´ çš„rgbå€¼ï¼ŒåŒæ—¶åŠ ä¸Šæ˜äº®å€¼ï¼Œä¿æŒåŸæ¥çš„wå€¼</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageLevelsFilter-è‰²é˜¶æ»¤é•œ"><a href="#GPUImageLevelsFilter-è‰²é˜¶æ»¤é•œ" class="headerlink" title="GPUImageLevelsFilter è‰²é˜¶æ»¤é•œ"></a>GPUImageLevelsFilter è‰²é˜¶æ»¤é•œ</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#define GammaCorrection(color, gamma)								pow(color, 1.0 / gamma)</span><br><span class="line">#define LevelsControlInputRange(color, minInput, maxInput)				min(max(color - minInput, vec3(0.0)) / (maxInput - minInput), vec3(1.0))</span><br><span class="line">#define LevelsControlInput(color, minInput, gamma, maxInput)				GammaCorrection(LevelsControlInputRange(color, minInput, maxInput), gamma)</span><br><span class="line">#define LevelsControlOutputRange(color, minOutput, maxOutput) 			mix(minOutput, maxOutput, color)</span><br><span class="line">#define LevelsControl(color, minInput, gamma, maxInput, minOutput, maxOutput) 	LevelsControlOutputRange(LevelsControlInput(color, minInput, gamma, maxInput), minOutput, maxOutput)</span><br><span class="line"></span><br><span class="line">NSString *const kGPUImageLevelsFragmentShaderString = SHADER_STRING</span><br><span class="line">(</span><br><span class="line"> varying highp vec2 textureCoordinate;</span><br><span class="line"> </span><br><span class="line"> uniform sampler2D inputImageTexture;</span><br><span class="line"> uniform mediump vec3 levelMinimum;</span><br><span class="line"> uniform mediump vec3 levelMiddle;</span><br><span class="line"> uniform mediump vec3 levelMaximum;</span><br><span class="line"> uniform mediump vec3 minOutput;</span><br><span class="line"> uniform mediump vec3 maxOutput;</span><br><span class="line"> </span><br><span class="line"> void main()</span><br><span class="line"> &#123;</span><br><span class="line">     mediump vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);</span><br><span class="line">     </span><br><span class="line">     gl_FragColor = vec4(LevelsControl(textureColor.rgb, levelMinimum, levelMiddle, levelMaximum, minOutput, maxOutput), textureColor.a);</span><br><span class="line"> &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageExposureFilter-æ›å…‰åº¦"><a href="#GPUImageExposureFilter-æ›å…‰åº¦" class="headerlink" title="GPUImageExposureFilter æ›å…‰åº¦"></a>GPUImageExposureFilter æ›å…‰åº¦</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">varying highp vec2 textureCoordinate;</span><br><span class="line"></span><br><span class="line">uniform sampler2D inputImageTexture;</span><br><span class="line">uniform highp float exposure;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    highp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);</span><br><span class="line">    </span><br><span class="line">    gl_FragColor = vec4(textureColor.rgb * pow(2.0, exposure), textureColor.w);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageContrastFilter-å¯¹æ¯”åº¦"><a href="#GPUImageContrastFilter-å¯¹æ¯”åº¦" class="headerlink" title="GPUImageContrastFilter å¯¹æ¯”åº¦"></a>GPUImageContrastFilter å¯¹æ¯”åº¦</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> varying highp vec2 textureCoordinate;</span><br><span class="line"></span><br><span class="line">uniform sampler2D inputImageTexture;</span><br><span class="line">uniform lowp float contrast;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);</span><br><span class="line">    </span><br><span class="line">    gl_FragColor = vec4(((textureColor.rgb - vec3(0.5)) * contrast + vec3(0.5)), textureColor.w);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageSaturationFilter-é¥±å’Œåº¦"><a href="#GPUImageSaturationFilter-é¥±å’Œåº¦" class="headerlink" title="GPUImageSaturationFilter é¥±å’Œåº¦"></a>GPUImageSaturationFilter é¥±å’Œåº¦</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">  varying highp vec2 textureCoordinate;</span><br><span class="line"> </span><br><span class="line"> uniform sampler2D inputImageTexture;</span><br><span class="line"> uniform lowp float saturation;</span><br><span class="line"> </span><br><span class="line"> // Values from &quot;Graphics Shaders: Theory and Practice&quot; by Bailey and Cunningham</span><br><span class="line"> const mediump vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);</span><br><span class="line"> </span><br><span class="line"> void main()</span><br><span class="line"> &#123;</span><br><span class="line">    lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);</span><br><span class="line">    lowp float luminance = dot(textureColor.rgb, luminanceWeighting);</span><br><span class="line">    lowp vec3 greyScaleColor = vec3(luminance);</span><br><span class="line">    </span><br><span class="line">	gl_FragColor = vec4(mix(greyScaleColor, textureColor.rgb, saturation), textureColor.w);</span><br><span class="line">	 </span><br><span class="line"> &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageGammaFilter-ä¼½é©¬æ»¤é•œ"><a href="#GPUImageGammaFilter-ä¼½é©¬æ»¤é•œ" class="headerlink" title="GPUImageGammaFilter ä¼½é©¬æ»¤é•œ"></a>GPUImageGammaFilter ä¼½é©¬æ»¤é•œ</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">varying highp vec2 textureCoordinate;</span><br><span class="line"></span><br><span class="line">uniform sampler2D inputImageTexture;</span><br><span class="line">uniform lowp float gamma;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">    lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);</span><br><span class="line">    </span><br><span class="line">    gl_FragColor = vec4(pow(textureColor.rgb, vec3(gamma)), textureColor.w);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GPUImageLookupFilter-æŸ¥æ‰¾è¡¨æ»¤æ³¢"><a href="#GPUImageLookupFilter-æŸ¥æ‰¾è¡¨æ»¤æ³¢" class="headerlink" title="GPUImageLookupFilter æŸ¥æ‰¾è¡¨æ»¤æ³¢"></a>GPUImageLookupFilter æŸ¥æ‰¾è¡¨æ»¤æ³¢</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> NSString *const kGPUImageLookupFragmentShaderString = SHADER_STRING</span><br><span class="line">(</span><br><span class="line"> varying highp vec2 textureCoordinate;  // srcå›¾ç‰‡çš„åƒç´ åæ ‡</span><br><span class="line"> varying highp vec2 textureCoordinate2; // lookupå›¾ç‰‡çš„åƒç´ åæ ‡ï¼Œæœªä½¿ç”¨</span><br><span class="line"> </span><br><span class="line"> uniform sampler2D inputImageTexture;   // srcå›¾ç‰‡çš„çº¹ç†ä¿¡æ¯ï¼Œç›¸å½“äºå›¾ç‰‡ä¿¡æ¯çš„äºŒç»´çŸ©é˜µ</span><br><span class="line"> uniform sampler2D inputImageTexture2; // lookup texture</span><br><span class="line"> </span><br><span class="line"> uniform lowp float intensity; // å¼ºåº¦</span><br><span class="line"></span><br><span class="line"> void main()</span><br><span class="line"> &#123;</span><br><span class="line">     highp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);//æ ¹æ®å›¾ç‰‡çŸ©é˜µå’Œåæ ‡ï¼Œå–å‡ºä¸€ä¸ªç‚¹çš„ï¼ˆr,g,b,aï¼‰,è¿™é‡Œéƒ½æ˜¯å½’ä¸€åŒ–çš„</span><br><span class="line">     </span><br><span class="line">     highp float blueColor = textureColor.b * 63.0;//é¦–å…ˆæ ¹æ®bï¼Œè®¡ç®—ä¸€ä¸ªï¼ˆ0~63ï¼‰çš„å€¼ï¼Œå‡è®¾ä¸º1.0</span><br><span class="line">     </span><br><span class="line">     highp vec2 quad1;//å®šä¹‰ä¸€ä¸ªäºŒç»´å‘é‡ï¼Œä»£ç åæ ‡</span><br><span class="line">     quad1.y = floor(floor(blueColor) / 8.0);//floorè¿”å›å°äºæˆ–ç­‰äºæŒ‡å®šè¡¨è¾¾å¼çš„æœ€å¤§æ•´æ•°ï¼Œ==&gt;7.0</span><br><span class="line">     quad1.x = floor(blueColor) - (quad1.y * 8.0); //===&gt; 7.0</span><br><span class="line">     </span><br><span class="line">     highp vec2 quad2;</span><br><span class="line">     quad2.y = floor(ceil(blueColor) / 8.0);// ceilè¿”å›å¤§äºæˆ–è€…ç­‰äºæŒ‡å®šè¡¨è¾¾å¼çš„æœ€å°æ•´æ•° ==&gt;7.0</span><br><span class="line">     quad2.x = ceil(blueColor) - (quad2.y * 8.0);//==&gt; 7.0</span><br><span class="line">     </span><br><span class="line">     highp vec2 texPos1;</span><br><span class="line">     texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.r);// è®¡ç®—åæ ‡</span><br><span class="line">     texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.g);</span><br><span class="line">     </span><br><span class="line">     highp vec2 texPos2;</span><br><span class="line">     texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.r);</span><br><span class="line">     texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.g);</span><br><span class="line">     </span><br><span class="line">     lowp vec4 newColor1 = texture2D(inputImageTexture2, texPos1);</span><br><span class="line">     lowp vec4 newColor2 = texture2D(inputImageTexture2, texPos2);</span><br><span class="line">     </span><br><span class="line">     lowp vec4 newColor = mix(newColor1, newColor2, fract(blueColor));  //fractè¿”å›å°æ•°éƒ¨åˆ†</span><br><span class="line">     gl_FragColor = mix(textureColor, vec4(newColor.rgb, textureColor.w), intensity);   //mix æ ¹æ®å¼ºåº¦æ··åˆ</span><br><span class="line"> &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mix çº¿æ€§å·®å€¼å‡½æ•°</span><br><span class="line">å‡½æ•°æ¥å£mix(x, y, level);</span><br><span class="line">x, y : è¾“å…¥å€¼</span><br><span class="line">level :  æ’å€¼ç³»æ•°</span><br><span class="line">return : è¿”å›æ’å€¼ç»“æœ</span><br><span class="line">æè¿° : dest = x * (1 - level) + y * level;</span><br></pre></td></tr></table></figure>
<p> ###å†…ç½®æ»¤é•œ<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;GPUImageBrightnessFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //äº®åº¦</span><br><span class="line">#import &quot;GPUImageExposureFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //æ›å…‰</span><br><span class="line">#import &quot;GPUImageContrastFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //å¯¹æ¯”åº¦</span><br><span class="line">#import &quot;GPUImageSaturationFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //é¥±å’Œåº¦</span><br><span class="line">#import &quot;GPUImageGammaFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //ä¼½é©¬çº¿</span><br><span class="line">#import &quot;GPUImageColorInvertFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //åè‰²</span><br><span class="line">#import &quot;GPUImageSepiaFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //è¤è‰²ï¼ˆæ€€æ—§ï¼‰</span><br><span class="line">#import &quot;GPUImageLevelsFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //è‰²é˜¶</span><br><span class="line">#import &quot;GPUImageGrayscaleFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //ç°åº¦</span><br><span class="line">#import &quot;GPUImageHistogramFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //è‰²å½©ç›´æ–¹å›¾ï¼Œæ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸Š</span><br><span class="line">#import &quot;GPUImageHistogramGenerator.h&quot;Â  Â  Â  Â  Â  Â  Â  //è‰²å½©ç›´æ–¹å›¾</span><br><span class="line">#import &quot;GPUImageRGBFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //RGB</span><br><span class="line">#import &quot;GPUImageToneCurveFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //è‰²è°ƒæ›²çº¿</span><br><span class="line">#import &quot;GPUImageMonochromeFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //å•è‰²</span><br><span class="line">#import &quot;GPUImageOpacityFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //ä¸é€æ˜åº¦</span><br><span class="line">#import &quot;GPUImageHighlightShadowFilter.h&quot; Â  Â  Â  Â  Â  //æäº®é˜´å½±</span><br><span class="line">#import &quot;GPUImageFalseColorFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //è‰²å½©æ›¿æ¢ï¼ˆæ›¿æ¢äº®éƒ¨å’Œæš—éƒ¨è‰²å½©ï¼‰</span><br><span class="line">#import &quot;GPUImageHueFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //è‰²åº¦</span><br><span class="line">#import &quot;GPUImageChromaKeyFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //è‰²åº¦é”®</span><br><span class="line">#import &quot;GPUImageWhiteBalanceFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //ç™½å¹³æ¨ª</span><br><span class="line">#import &quot;GPUImageAverageColor.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //åƒç´ å¹³å‡è‰²å€¼</span><br><span class="line">#import &quot;GPUImageSolidColorGenerator.h&quot; Â  Â  Â  Â  Â  Â  //çº¯è‰²</span><br><span class="line">#import &quot;GPUImageLuminosity.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //äº®åº¦å¹³å‡</span><br><span class="line">#import &quot;GPUImageAverageLuminanceThresholdFilter.h&quot; //åƒç´ è‰²å€¼äº®åº¦å¹³å‡ï¼Œå›¾åƒé»‘ç™½ï¼ˆæœ‰ç±»ä¼¼æ¼«ç”»æ•ˆæœï¼‰</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageLookupFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //lookup è‰²å½©è°ƒæ•´</span><br><span class="line">#import &quot;GPUImageAmatorkaFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //Amatorka lookup</span><br><span class="line">#import &quot;GPUImageMissEtikateFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //MissEtikate lookup</span><br><span class="line">#import &quot;GPUImageSoftEleganceFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //SoftElegance lookup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#pragma mark - å›¾åƒå¤„ç† Handle Image</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageCrosshairGenerator.h&quot;Â  Â  Â  Â  Â  Â  Â  //åå­—</span><br><span class="line">#import &quot;GPUImageLineGenerator.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //çº¿æ¡</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageTransformFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //å½¢çŠ¶å˜åŒ–</span><br><span class="line">#import &quot;GPUImageCropFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //å‰ªè£</span><br><span class="line">#import &quot;GPUImageSharpenFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //é”åŒ–</span><br><span class="line">#import &quot;GPUImageUnsharpMaskFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //åé®ç½©é”åŒ–</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageFastBlurFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //æ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageGaussianBlurFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //é«˜æ–¯æ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageGaussianSelectiveBlurFilter.h&quot; Â  Â  //é«˜æ–¯æ¨¡ç³Šï¼Œé€‰æ‹©éƒ¨åˆ†æ¸…æ™°</span><br><span class="line">#import &quot;GPUImageBoxBlurFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //ç›’çŠ¶æ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageTiltShiftFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //æ¡çº¹æ¨¡ç³Šï¼Œä¸­é—´æ¸…æ™°ï¼Œä¸Šä¸‹ä¸¤ç«¯æ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageMedianFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //ä¸­é—´å€¼ï¼Œæœ‰ç§ç¨å¾®æ¨¡ç³Šè¾¹ç¼˜çš„æ•ˆæœ</span><br><span class="line">#import &quot;GPUImageBilateralFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //åŒè¾¹æ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageErosionFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //ä¾µèš€è¾¹ç¼˜æ¨¡ç³Šï¼Œå˜é»‘ç™½</span><br><span class="line">#import &quot;GPUImageRGBErosionFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //RGBä¾µèš€è¾¹ç¼˜æ¨¡ç³Šï¼Œæœ‰è‰²å½©</span><br><span class="line">#import &quot;GPUImageDilationFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //æ‰©å±•è¾¹ç¼˜æ¨¡ç³Šï¼Œå˜é»‘ç™½</span><br><span class="line">#import &quot;GPUImageRGBDilationFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //RGBæ‰©å±•è¾¹ç¼˜æ¨¡ç³Šï¼Œæœ‰è‰²å½©</span><br><span class="line">#import &quot;GPUImageOpeningFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //é»‘ç™½è‰²è°ƒæ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageRGBOpeningFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //å½©è‰²æ¨¡ç³Š</span><br><span class="line">#import &quot;GPUImageClosingFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //é»‘ç™½è‰²è°ƒæ¨¡ç³Šï¼Œæš—è‰²ä¼šè¢«æäº®</span><br><span class="line">#import &quot;GPUImageRGBClosingFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //å½©è‰²æ¨¡ç³Šï¼Œæš—è‰²ä¼šè¢«æäº®</span><br><span class="line">#import &quot;GPUImageLanczosResamplingFilter.h&quot; Â  Â  Â  Â  //Lanczosé‡å–æ ·ï¼Œæ¨¡ç³Šæ•ˆæœ</span><br><span class="line">#import &quot;GPUImageNonMaximumSuppressionFilter.h&quot; Â  Â  //éæœ€å¤§æŠ‘åˆ¶ï¼Œåªæ˜¾ç¤ºäº®åº¦æœ€é«˜çš„åƒç´ ï¼Œå…¶ä»–ä¸ºé»‘</span><br><span class="line">#import &quot;GPUImageThresholdedNonMaximumSuppressionFilter.h&quot; //ä¸ä¸Šç›¸æ¯”ï¼Œåƒç´ ä¸¢å¤±æ›´å¤š</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageSobelEdgeDetectionFilter.h&quot;Â  Â  Â  Â  //Sobelè¾¹ç¼˜æ£€æµ‹ç®—æ³•(ç™½è¾¹ï¼Œé»‘å†…å®¹ï¼Œæœ‰ç‚¹æ¼«ç”»çš„åè‰²æ•ˆæœ)</span><br><span class="line">#import &quot;GPUImageCannyEdgeDetectionFilter.h&quot;Â  Â  Â  Â  //Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼ˆæ¯”ä¸Šæ›´å¼ºçƒˆçš„é»‘ç™½å¯¹æ¯”åº¦ï¼‰</span><br><span class="line">#import &quot;GPUImageThresholdEdgeDetectionFilter.h&quot;Â  Â  //é˜ˆå€¼è¾¹ç¼˜æ£€æµ‹ï¼ˆæ•ˆæœä¸ä¸Šå·®åˆ«ä¸å¤§ï¼‰</span><br><span class="line">#import &quot;GPUImagePrewittEdgeDetectionFilter.h&quot;Â  Â  Â  //æ™®ç‘ç»´ç‰¹(Prewitt)è¾¹ç¼˜æ£€æµ‹(æ•ˆæœä¸Sobelå·®ä¸å¤šï¼Œè²Œä¼¼æ›´å¹³æ»‘)</span><br><span class="line">#import &quot;GPUImageXYDerivativeFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //XYDerivativeè¾¹ç¼˜æ£€æµ‹ï¼Œç”»é¢ä»¥è“è‰²ä¸ºä¸»ï¼Œç»¿è‰²ä¸ºè¾¹ç¼˜ï¼Œå¸¦å½©è‰²</span><br><span class="line">#import &quot;GPUImageHarrisCornerDetectionFilter.h&quot; Â  Â  //Harrisè§’ç‚¹æ£€æµ‹ï¼Œä¼šæœ‰ç»¿è‰²å°åå­—æ˜¾ç¤ºåœ¨å›¾ç‰‡è§’ç‚¹å¤„</span><br><span class="line">#import &quot;GPUImageNobleCornerDetectionFilter.h&quot;Â  Â  Â  //Nobleè§’ç‚¹æ£€æµ‹ï¼Œæ£€æµ‹ç‚¹æ›´å¤š</span><br><span class="line">#import &quot;GPUImageShiTomasiFeatureDetectionFilter.h&quot; //ShiTomasiè§’ç‚¹æ£€æµ‹ï¼Œä¸ä¸Šå·®åˆ«ä¸å¤§</span><br><span class="line">#import &quot;GPUImageMotionDetector.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //åŠ¨ä½œæ£€æµ‹</span><br><span class="line">#import &quot;GPUImageHoughTransformLineDetector.h&quot;Â  Â  Â  //çº¿æ¡æ£€æµ‹</span><br><span class="line">#import &quot;GPUImageParallelCoordinateLineTransformFilter.h&quot; //å¹³è¡Œçº¿æ£€æµ‹</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageLocalBinaryPatternFilter.h&quot;Â  Â  Â  Â  //å›¾åƒé»‘ç™½åŒ–ï¼Œå¹¶æœ‰å¤§é‡å™ªç‚¹</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageLowPassFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  //ç”¨äºå›¾åƒåŠ äº®</span><br><span class="line">#import &quot;GPUImageHighPassFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //å›¾åƒä½äºæŸå€¼æ—¶æ˜¾ç¤ºä¸ºé»‘</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#pragma mark - è§†è§‰æ•ˆæœ Visual Effect</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageSketchFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //ç´ æ</span><br><span class="line">#import &quot;GPUImageThresholdSketchFilter.h&quot; Â  Â  Â  Â  Â  //é˜€å€¼ç´ æï¼Œå½¢æˆæœ‰å™ªç‚¹çš„ç´ æ</span><br><span class="line">#import &quot;GPUImageToonFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //å¡é€šæ•ˆæœï¼ˆé»‘è‰²ç²—çº¿æè¾¹ï¼‰</span><br><span class="line">#import &quot;GPUImageSmoothToonFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //ç›¸æ¯”ä¸Šé¢çš„æ•ˆæœæ›´ç»†è…»ï¼Œä¸Šé¢æ˜¯ç²—æ—·çš„ç”»é£</span><br><span class="line">#import &quot;GPUImageKuwaharaFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //æ¡‘åŸ(Kuwahara)æ»¤æ³¢,æ°´ç²‰ç”»çš„æ¨¡ç³Šæ•ˆæœï¼›å¤„ç†æ—¶é—´æ¯”è¾ƒé•¿ï¼Œæ…ç”¨</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageMosaicFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //é»‘ç™½é©¬èµ›å…‹</span><br><span class="line">#import &quot;GPUImagePixellateFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //åƒç´ åŒ–</span><br><span class="line">#import &quot;GPUImagePolarPixellateFilter.h&quot;Â  Â  Â  Â  Â  Â  //åŒå¿ƒåœ†åƒç´ åŒ–</span><br><span class="line">#import &quot;GPUImageCrosshatchFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //äº¤å‰çº¿é˜´å½±ï¼Œå½¢æˆé»‘ç™½ç½‘çŠ¶ç”»é¢</span><br><span class="line">#import &quot;GPUImageColorPackingFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //è‰²å½©ä¸¢å¤±ï¼Œæ¨¡ç³Šï¼ˆç±»ä¼¼ç›‘æ§æ‘„åƒæ•ˆæœï¼‰</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageVignetteFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //æ™•å½±ï¼Œå½¢æˆé»‘è‰²åœ†å½¢è¾¹ç¼˜ï¼Œçªå‡ºä¸­é—´å›¾åƒçš„æ•ˆæœ</span><br><span class="line">#import &quot;GPUImageSwirlFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //æ¼©æ¶¡ï¼Œä¸­é—´å½¢æˆå·æ›²çš„ç”»é¢</span><br><span class="line">#import &quot;GPUImageBulgeDistortionFilter.h&quot; Â  Â  Â  Â  Â  //å‡¸èµ·å¤±çœŸï¼Œé±¼çœ¼æ•ˆæœ</span><br><span class="line">#import &quot;GPUImagePinchDistortionFilter.h&quot; Â  Â  Â  Â  Â  //æ”¶ç¼©å¤±çœŸï¼Œå‡¹é¢é•œ</span><br><span class="line">#import &quot;GPUImageStretchDistortionFilter.h&quot; Â  Â  Â  Â  //ä¼¸å±•å¤±çœŸï¼Œå“ˆå“ˆé•œ</span><br><span class="line">#import &quot;GPUImageGlassSphereFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //æ°´æ™¶çƒæ•ˆæœ</span><br><span class="line">#import &quot;GPUImageSphereRefractionFilter.h&quot;Â  Â  Â  Â  Â  //çƒå½¢æŠ˜å°„ï¼Œå›¾å½¢å€’ç«‹</span><br><span class="line"> Â  Â </span><br><span class="line">#import &quot;GPUImagePosterizeFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  Â  //è‰²è°ƒåˆ†ç¦»ï¼Œå½¢æˆå™ªç‚¹æ•ˆæœ</span><br><span class="line">#import &quot;GPUImageCGAColorspaceFilter.h&quot; Â  Â  Â  Â  Â  Â  //CGAè‰²å½©æ»¤é•œï¼Œå½¢æˆé»‘ã€æµ…è“ã€ç´«è‰²å—çš„ç”»é¢</span><br><span class="line">#import &quot;GPUImagePerlinNoiseFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //æŸæ—å™ªç‚¹ï¼ŒèŠ±è¾¹å™ªç‚¹</span><br><span class="line">#import &quot;GPUImage3x3ConvolutionFilter.h&quot;Â  Â  Â  Â  Â  Â  //3x3å·ç§¯ï¼Œé«˜äº®å¤§è‰²å—å˜é»‘ï¼ŒåŠ äº®è¾¹ç¼˜ã€çº¿æ¡ç­‰</span><br><span class="line">#import &quot;GPUImageEmbossFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //æµ®é›•æ•ˆæœï¼Œå¸¦æœ‰ç‚¹3dçš„æ„Ÿè§‰</span><br><span class="line">#import &quot;GPUImagePolkaDotFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //åƒç´ åœ†ç‚¹èŠ±æ ·</span><br><span class="line">#import &quot;GPUImageHalftoneFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //ç‚¹æŸ“,å›¾åƒé»‘ç™½åŒ–ï¼Œç”±é»‘ç‚¹æ„æˆåŸå›¾çš„å¤§è‡´å›¾å½¢</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#pragma mark - æ··åˆæ¨¡å¼ Blend</span><br><span class="line"></span><br><span class="line">#import &quot;GPUImageMultiplyBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  //é€šå¸¸ç”¨äºåˆ›å»ºé˜´å½±å’Œæ·±åº¦æ•ˆæœ</span><br><span class="line">#import &quot;GPUImageNormalBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //æ­£å¸¸</span><br><span class="line">#import &quot;GPUImageAlphaBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  //é€æ˜æ··åˆ,é€šå¸¸ç”¨äºåœ¨èƒŒæ™¯ä¸Šåº”ç”¨å‰æ™¯çš„é€æ˜åº¦</span><br><span class="line">#import &quot;GPUImageDissolveBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  //æº¶è§£</span><br><span class="line">#import &quot;GPUImageOverlayBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //å åŠ ,é€šå¸¸ç”¨äºåˆ›å»ºé˜´å½±æ•ˆæœ</span><br><span class="line">#import &quot;GPUImageDarkenBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //åŠ æ·±æ··åˆ,é€šå¸¸ç”¨äºé‡å ç±»å‹</span><br><span class="line">#import &quot;GPUImageLightenBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  //å‡æ·¡æ··åˆ,é€šå¸¸ç”¨äºé‡å ç±»å‹</span><br><span class="line">#import &quot;GPUImageSourceOverBlendFilter.h&quot; Â  Â  Â  Â  Â  //æºæ··åˆ</span><br><span class="line">#import &quot;GPUImageColorBurnBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  //è‰²å½©åŠ æ·±æ··åˆ</span><br><span class="line">#import &quot;GPUImageColorDodgeBlendFilter.h&quot; Â  Â  Â  Â  Â  //è‰²å½©å‡æ·¡æ··åˆ</span><br><span class="line">#import &quot;GPUImageScreenBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //å±å¹•åŒ…è£¹,é€šå¸¸ç”¨äºåˆ›å»ºäº®ç‚¹å’Œé•œå¤´çœ©å…‰</span><br><span class="line">#import &quot;GPUImageExclusionBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  //æ’é™¤æ··åˆ</span><br><span class="line">#import &quot;GPUImageDifferenceBlendFilter.h&quot; Â  Â  Â  Â  Â  //å·®å¼‚æ··åˆ,é€šå¸¸ç”¨äºåˆ›å»ºæ›´å¤šå˜åŠ¨çš„é¢œè‰²</span><br><span class="line">#import &quot;GPUImageSubtractBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  //å·®å€¼æ··åˆ,é€šå¸¸ç”¨äºåˆ›å»ºä¸¤ä¸ªå›¾åƒä¹‹é—´çš„åŠ¨ç”»å˜æš—æ¨¡ç³Šæ•ˆæœ</span><br><span class="line">#import &quot;GPUImageHardLightBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  //å¼ºå…‰æ··åˆ,é€šå¸¸ç”¨äºåˆ›å»ºé˜´å½±æ•ˆæœ</span><br><span class="line">#import &quot;GPUImageSoftLightBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  //æŸ”å…‰æ··åˆ</span><br><span class="line">#import &quot;GPUImageChromaKeyBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  //è‰²åº¦é”®æ··åˆ</span><br><span class="line">#import &quot;GPUImageMaskFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //é®ç½©æ··åˆ</span><br><span class="line">#import &quot;GPUImageHazeFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //æœ¦èƒ§åŠ æš—</span><br><span class="line">#import &quot;GPUImageLuminanceThresholdFilter.h&quot;Â  Â  Â  Â  //äº®åº¦é˜ˆ</span><br><span class="line">#import &quot;GPUImageAdaptiveThresholdFilter.h&quot; Â  Â  Â  Â  //è‡ªé€‚åº”é˜ˆå€¼</span><br><span class="line">#import &quot;GPUImageAddBlendFilter.h&quot;Â  Â  Â  Â  Â  Â  Â  Â  Â  //é€šå¸¸ç”¨äºåˆ›å»ºä¸¤ä¸ªå›¾åƒä¹‹é—´çš„åŠ¨ç”»å˜äº®æ¨¡ç³Šæ•ˆæœ</span><br><span class="line">#import &quot;GPUImageDivideBlendFilter.h&quot; Â  Â  Â  Â  Â  Â  Â  //é€šå¸¸ç”¨äºåˆ›å»ºä¸¤ä¸ªå›¾åƒä¹‹é—´çš„åŠ¨ç”»å˜æš—æ¨¡ç³Šæ•ˆæœ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#pragma mark - å°šä¸æ¸…æ¥š</span><br><span class="line">#import &quot;GPUImageJFAVoroniFilter.h&quot;</span><br><span class="line">#import &quot;GPUImageVoroniConsumerFilter.h&quot;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/26/GPUImageå­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/" data-id="cjxpp458r000xfpz6gj7gl2qb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/06/CocoaPods/">CocoaPods</a>
          </li>
        
          <li>
            <a href="/2019/04/07/å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„/">å‡½æ•°å°è®¡å’Œæ•°æ®ç»“æ„</a>
          </li>
        
          <li>
            <a href="/2019/03/07/git-handbook/">git handbook</a>
          </li>
        
          <li>
            <a href="/2018/12/29/é—²èŠ/">é—²èŠ</a>
          </li>
        
          <li>
            <a href="/2018/10/25/iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰/">iOSé€†å‘å¼€å‘å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 hust_destiny<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>